<html ng-app="chatapp">

<head>
    <script src="../angular.js"></script>
    <script src="../app.js"></script>
    <script src="../Controller/userController.js"></script>
    <script src="../Services/userServices.js"></script>
</head>

<body>
    <h1 align="center">Chat App</h1>

    <div ng-controller="Controller as ctrl">
        <!-- <div ng-hide="ctrl.editMode">
            <ul ng-repeat="user in ctrl.details.data">
                <li>{{user.email}}</li>
            </ul>

        </div>-->
        <div align="center" id="div1" ng-if="!ctrl.successMode">
            <div ng-if="ctrl.successMode">{{ctrl.successMode}}</div>
            <table id="tableid" align="center">
                <tr>
                    <td>Username : </td>
                    <td><input type="text" ng-model="ctrl.username" /></td>
                </tr>
                <tr ng-hide="ctrl.editMode">
                    <td>firstname : </td>
                    <td><input type="text" ng-model="ctrl.firstname" /></td>
                </tr>
                <tr ng-hide="ctrl.editMode">
                    <td>lastname : </td>
                    <td><input type="text" ng-model="ctrl.lastname" /></td>
                </tr>

                <tr ng-hide="ctrl.editMode">
                    <td>email : </td>
                    <td><input type="email" ng-model="ctrl.email" /></td>
                </tr>
                <tr>
                    <td>password : </td>
                    <td><input type="password" ng-model="ctrl.password" /></td>
                </tr>
                <tr ng-hide="ctrl.editMode">
                    <td>confirmPassword : </td>
                    <td><input type="password" ng-model="ctrl.confirmPassword" /></td>
                </tr>
                <tr ng-hide='ctrl.editMode'>
                    <td><button
                            ng-click="ctrl.register(ctrl.username,ctrl.firstname,ctrl.lastname,ctrl.email,ctrl.password,ctrl.confirmPassword)"
                            ng-hide="ctrl.editMode">save</button></td>
                    <td><button ng-hide="ctrl.editMode" ng-click="ctrl.changeMode()">back</button></td>
                </tr>
                <tr>
                    <td>
                        <button ng-show="ctrl.editMode" ng-click="ctrl.signin(ctrl.username,ctrl.password);">singin</button>
                    </td>
                    <td>
                        <button ng-show="ctrl.editMode" ng-click="ctrl.changeMode()">signup</button>
                    </td>
                </tr>
            </table>
        </div>
        <div align="center" ng-if="ctrl.errorMode">
            {{ctrl.errorMode}}
        </div>

        <div ng-if="ctrl.successMode">

            <div>
                <ul ng-repeat="user in ctrl.details" type="none">
                    <li ng-click="ctrl.chatHistory($index)">{{user.email}}</li>
                </ul>
            </div>

            <div>
                <div style="height:300px; width: 500px; background-color: darkgrey"></div>
                <input type="text" ng-model="ctrl.textArea" placeholder="Enter "/><button ng-click="ctrl.send()">send</button>
            </div>
        </div>
    </div>
</body>

</html>